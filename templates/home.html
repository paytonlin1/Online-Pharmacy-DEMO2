<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Home Page{% endblock %}</title>
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.1/font/bootstrap-icons.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/styles.css') }}"
    />
  </head>
  <body>
    <div class="top-header">
      <div class="container">
        <div class="row">
          <div class="col-md-6">
            <small><i class="bi bi-telephone"></i> Call: 1-800-PHARMACY</small>
            <small class="ms-3"
              ><i class="bi bi-envelope"></i> info@pharmacy.com</small
            >
          </div>
          <div class="col-md-6 text-end">
            <small><i class="bi bi-clock"></i> Mon-Sat: 8AM - 8PM | </small>
            <small>Logged User: {{ session.username }}</small>
          </div>
        </div>
      </div>
    </div>

    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
      <div class="container">
        <a class="navbar-brand" href="/">
          <i class="bi bi-heart-pulse-fill text-primary"></i>
          <strong>Online</strong> Pharmacy [DEMO]
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          title="toggle"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a
                class="nav-link {% if request.endpoint == 'home' %}active{% endif %}"
                href="/"
              >
                <i class="bi bi-house"></i> Home
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link {% if request.endpoint == 'doctor_dashboard' %}active{% endif %}"
                href="/doctor_dashboard"
              >
                <i class="bi bi-person-badge"></i> Doctor Portal
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link {% if request.endpoint == 'pharmacist_dashboard' %}active{% endif %}"
                href="/pharmacist_dashboard"
              >
                <i class="bi bi-capsule"></i> Pharmacist Portal
              </a>
            </li>
            <li class="nav-item">
              <a
                class="nav-link {% if request.endpoint == 'patient_dashboard' %}active{% endif %}"
                href="/patient_dashboard"
              >
                <i class="bi bi-person-circle"></i> Patient Portal
              </a>
            </li>
            {% if session.username %}
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('logout') }}">
                <i class="bi bi-box-arrow-right"></i> Logout
              </a>
            </li>
            {% else %}
            <li class="nav-item">
              <a class="nav-link" href="{{ url_for('login') }}">
                <i class="bi bi-box-arrow-in-right"></i> Login
              </a>
            </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>

    <div class="container my-3">
      {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
          {% for category, message in messages %}
            <div class="alert alert-{{ category if category in ['success', 'danger', 'warning', 'info'] else 'info' }} alert-dismissible fade show" role="alert">
              {{ message }}
              <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
    </div>
    
    <!-- Hero Section -->
    <div class="hero-section bg-light py-5">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-lg-6">
            <h1 class="display-4 fw-bold mb-4">Your Health, Our Priority</h1>
            <p class="lead mb-4">
              Connect with doctors, manage prescriptions, and get medications
              delivered to your door. Experience seamless healthcare management.
            </p>
            <div class="d-flex gap-3">
              <a href="/patient_dashboard" class="btn btn-primary btn-lg">
                <i class="bi bi-person-circle"></i> Patient Portal
              </a>
              <a
                href="/doctor_dashboard"
                class="btn btn-outline-primary btn-lg"
              >
                <i class="bi bi-person-badge"></i> Doctor Portal
              </a>
              <form action="{{ url_for('reset.reset_demo') }}" method="POST">
                <button type="submit" class="btn btn-lg btn-danger">
                  <i class="bi bi-exclamation-triangle"></i> Reset Demo
                </button>
            </div>
          </div>
          <div class="col-lg-6">
            <div class="text-center">
              <i class="bi bi-hospital display-1 text-primary"></i>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Stats Section -->
    <div class="container my-5">
      <div class="row text-center">
        <div class="col-md-3 mb-4">
          <div class="card border-0 shadow-sm">
            <div class="card-body">
              <i class="bi bi-people-fill text-primary display-4"></i>
              <h3 class="mt-3">{{ total_patients }}</h3>
              <p class="text-muted">Active Patients</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-4">
          <div class="card border-0 shadow-sm">
            <div class="card-body">
              <i class="bi bi-person-badge text-success display-4"></i>
              <h3 class="mt-3">{{ total_doctors }}</h3>
              <p class="text-muted">Qualified Doctors</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-4">
          <div class="card border-0 shadow-sm">
            <div class="card-body">
              <i class="bi bi-file-text text-warning display-4"></i>
              <h3 class="mt-3">{{ total_prescriptions }}</h3>
              <p class="text-muted">Prescriptions Filled</p>
            </div>
          </div>
        </div>
        <div class="col-md-3 mb-4">
          <div class="card border-0 shadow-sm">
            <div class="card-body">
              <i class="bi bi-capsule text-info display-4"></i>
              <h3 class="mt-3">{{ total_pharmacists }}</h3>
              <p class="text-muted">Licensed Pharmacists</p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Features Section -->
    <div class="bg-light py-5">
      <div class="container">
        <h2 class="text-center mb-5">Why Choose Us?</h2>
        <div class="row">
          <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <i class="bi bi-shield-check text-primary display-4 mb-3"></i>
                <h5>Secure & Safe</h5>
                <p class="text-muted">
                  Your health data is protected with enterprise-level security
                  and HIPAA compliance.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <i class="bi bi-clock-history text-success display-4 mb-3"></i>
                <h5>24/7 Access</h5>
                <p class="text-muted">
                  Manage your prescriptions and connect with healthcare
                  providers anytime, anywhere.
                </p>
              </div>
            </div>
          </div>
          <div class="col-md-4 mb-4">
            <div class="card h-100 border-0 shadow-sm">
              <div class="card-body text-center">
                <i class="bi bi-truck text-info display-4 mb-3"></i>
                <h5>Fast Delivery</h5>
                <p class="text-muted">
                  Get your medications delivered to your doorstep quickly and
                  reliably.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Portal Access Section -->
    <div class="container my-5">
      <h2 class="text-center mb-5">Access Your Portal</h2>
      <div class="row">
        <div class="col-md-4 mb-4">
          <div class="card h-100 border-primary">
            <div class="card-body text-center">
              <i class="bi bi-person-circle text-primary display-3 mb-3"></i>
              <h4>Patient Portal</h4>
              <p class="text-muted">
                View prescriptions, track orders, and manage your health.
              </p>
              <a href="/patient_dashboard" class="btn btn-primary w-100"
                >Access Portal</a
              >
            </div>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="card h-100 border-success">
            <div class="card-body text-center">
              <i class="bi bi-person-badge text-success display-3 mb-3"></i>
              <h4>Doctor Portal</h4>
              <p class="text-muted">
                Manage patients, prescribe medications, and track appointments.
              </p>
              <a href="/doctor_dashboard" class="btn btn-success w-100"
                >Access Portal</a
              >
            </div>
          </div>
        </div>
        <div class="col-md-4 mb-4">
          <div class="card h-100 border-info">
            <div class="card-body text-center">
              <i class="bi bi-capsule text-info display-3 mb-3"></i>
              <h4>Pharmacist Portal</h4>
              <p class="text-muted">
                Process prescriptions, manage inventory, and fulfill orders.
              </p>
              <a href="/pharmacist_dashboard" class="btn btn-info w-100"
                >Access Portal</a
              >
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer class="footer mt-5">
      <div class="container">
        <div class="row">
          <div class="col-md-4 mb-4">
            <h5>
              <i class="bi bi-heart-pulse-fill text-primary"></i> Online
              Pharmacy
            </h5>
            <p class="text-muted">
              Your trusted online pharmacy connecting doctors, pharmacists, and
              patients.
            </p>
          </div>
          <div class="col-md-4 mb-4">
            <h5>Quick Links</h5>
            <ul class="list-unstyled">
              <li><a href="#">About Us</a></li>
              <li><a href="#">Contact</a></li>
              <li><a href="#">Privacy Policy</a></li>
              <li><a href="#">Terms & Conditions</a></li>
            </ul>
          </div>
          <div class="col-md-4 mb-4">
            <h5>Contact Info</h5>
            <ul class="list-unstyled contact-info">
              <li>
                <i class="bi bi-geo-alt"></i> 123 Medical Plaza, Health City
              </li>
              <li><i class="bi bi-telephone"></i> 1-800-PHARMACY</li>
              <li><i class="bi bi-envelope"></i> info@pharmacy.com</li>
            </ul>
          </div>
        </div>
        <hr />
        <div class="text-center py-3">
          <p class="mb-0 text-muted">
            &copy; 2025 King Nolan. All rights reserved.
          </p>
        </div>
      </div>
    </footer>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
      crossorigin="anonymous"
    ></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
  </body>
</html>
